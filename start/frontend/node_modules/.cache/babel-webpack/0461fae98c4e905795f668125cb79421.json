{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Component } from '@angular/core';\nlet PorukaPregledChatovaComponent = class PorukaPregledChatovaComponent {\n  constructor(PorukaService, ruter, nekretninaService) {\n    this.PorukaService = PorukaService;\n    this.ruter = ruter;\n    this.nekretninaService = nekretninaService;\n    this.user = null;\n    this.konverzacije = [];\n    this.nekretnine = [];\n  }\n\n  ngOnInit() {\n    this.user = JSON.parse(localStorage.getItem('user'));\n    this.PorukaService.getChats(this.user.username).subscribe(result => {\n      result.forEach(nekretnina => {\n        this.konverzacije.push(nekretnina);\n      });\n      this.nekretninaService.getNekretnine().subscribe(result => {\n        result.forEach(nekretnina => {\n          this.nekretnine.push(nekretnina);\n        });\n        console.log(this.nekretnine);\n      });\n      console.log(result);\n    });\n  }\n\n  pregled(id) {\n    this.ruter.navigate(['/konverzacija-pregled', id]);\n  }\n\n  blokiraj() {\n    this.PorukaService.blokirajKorisnika(this.user.username, this.userZaBlok).subscribe(obj => {\n      if (obj['blokiranje'] != 'ok') {\n        alert(\"NESTO NIJE UREDU\");\n      } else {\n        alert(\"Korisnik uspesno blokiran\");\n        window.location.reload();\n      }\n    });\n  }\n\n  odblokiraj() {\n    this.PorukaService.odblokirajKorisnika(this.user.username, this.userZaBlok).subscribe(obj => {\n      if (obj['odblokiranje'] != 'ok') {\n        alert(\"NESTO NIJE UREDU\");\n      } else {\n        alert(\"Korisnik uspesno odblokiran\");\n        window.location.reload();\n      }\n    });\n  }\n\n  arhiva(id) {\n    this.PorukaService.arhivirajKonverzaciju(id).subscribe(obj => {\n      if (obj['arhiva'] != 'ok') {\n        alert(\"NESTO NIJE UREDU\");\n      } else {\n        alert(\"Konverzacija uspesno arhivirana\");\n        window.location.reload();\n      }\n    });\n  }\n\n};\nPorukaPregledChatovaComponent = __decorate([Component({\n  selector: 'app-poruka-pregled-chatova',\n  templateUrl: './poruka-pregled-chatova.component.html',\n  styleUrls: ['./poruka-pregled-chatova.component.css']\n})], PorukaPregledChatovaComponent);\nexport { PorukaPregledChatovaComponent };","map":null,"metadata":{},"sourceType":"module"}